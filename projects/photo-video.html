<!DOCTYPE html>
<html lang="en" id="top">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Photography & Moving Image | Laura Mendija Rozīte</title>

  <link rel="stylesheet" href="../css/global.css" />
  <link rel="stylesheet" href="../css/project.css" />
  <link rel="stylesheet" href="../css/media.css" />
</head>

<body class="page-case">

<a href="#top" class="scroll-top" aria-label="Scroll to top"></a>


 <header class="portfolio-header home-nav">
  <div class="page-dim"></div>
  <div class="portfolio-nav">

    <button class="nav-toggle" aria-label="Toggle menu">
      <span></span>
      <span></span>
      <span></span>
    </button>

  <a href="../index.html" class="site-brand">Laura Mendija Rozīte</a>
<nav class="portfolio-links">

  <a href="nitu-web.html">NITU</a>
  <a href="seasonal.html">Campaign Systems</a>
  <a href="photo-video.html" aria-current="page">Photography + Video</a>

  <div class="nav-divider"></div>

<div class="meta">
  <a href="../about.html">About</a>
  <!-- <span class="meta-sep">·</span>
  <a href="../contact.html">Contact</a> -->
</div>
<div class="nav-utilities">
<!-- <div class="lang-switch" data-lang-switch>
  <a href="index.html" data-lang="en">EN</a>
  <a href="index-lv.html" data-lang="lv">LV</a>
</div> -->


</div>


</nav>



  </div>
</header>


<header class="hero">
  <h1>Photography + Video</h1>
  <p>Observation · Atmosphere · Intimacy</p>
</header>

<nav class="campaign-nav" aria-label="Media navigation">
  <ul>
    <li><a href="#photo" class="campaign-link">Photography</a></li>
    <li><a href="#video" class="campaign-link">Video</a></li>
  </ul>
</nav>

<section id="photo" class="media-section campaign-section">
  <h2>Photography</h2>
  <p class="section-intro">
    Personal documentary and portrait work focused on mood, presence, and quiet narrative.
  </p>

<div class="photo-wall">



  <img 
    src="../source/photography/DIVDESMITSEPTINI-small.jpg"
    data-full="../source/photography/DIVDESMITSEPTINI.jpg"
    alt=""
    loading="lazy"
    srcset="
      ../source/photography/DIVDESMITSEPTINI-small.jpg 480w,
      ../source/photography/DIVDESMITSEPTINI-medium.jpg 768w,
      ../source/photography/DIVDESMITSEPTINI.jpg 1200w
    "
    sizes="(max-width: 600px) 480px,
           (max-width: 1024px) 768px,
           1200px"
  />
 <img 
    src="../source/photography/axvar-small.jpg"
    data-full="../source/photography/axvar.jpg"
    alt=""
    loading="lazy"
    srcset="
      ../source/photography/axvar-small.jpg 480w,
      ../source/photography/axvar-medium.jpg 768w,
      ../source/photography/axvar.jpg 1200w
    "
    sizes="(max-width: 600px) 480px,
           (max-width: 1024px) 768px,
           1200px"
  />
    <img 
    src="../source/photography/_MG_7871-2-small.jpg"
    data-full="../source/photography/_MG_7871-2.jpg"
    alt=""
    loading="lazy"
    srcset="
      ../source/photography/_MG_7871-2-small.jpg 480w,
      ../source/photography/_MG_7871-2-medium.jpg 768w,
      ../source/photography/_MG_7871-2.jpg 1200w
    "
    sizes="(max-width: 600px) 480px,
           (max-width: 1024px) 768px,
           1200px"
  />
  <img 
    src="../source/photography/DIVDESMITTRIS-small.jpg"
    data-full="../source/photography/DIVDESMITTRIS.jpg"
    alt=""
    loading="lazy"
    srcset="
      ../source/photography/DIVDESMITTRIS-small.jpg 480w,
      ../source/photography/DIVDESMITTRIS-medium.jpg 768w,
      ../source/photography/DIVDESMITTRIS.jpg 1200w
    "
    sizes="(max-width: 600px) 480px,
           (max-width: 1024px) 768px,
           1200px"
  />

  <img 
    src="../source/photography/DIVI-small.jpg"
    data-full="../source/photography/DIVI.jpg"
    alt=""
    loading="lazy"
    srcset="
      ../source/photography/DIVI-small.jpg 480w,
      ../source/photography/DIVI-medium.jpg 768w,
      ../source/photography/DIVI.jpg 1200w
    "
    sizes="(max-width: 600px) 480px,
           (max-width: 1024px) 768px,
           1200px"
  />
  <img 
    src="../source/photography/CETRDESmitspitnik-small.jpg"
    data-full="../source/photography/CETRDESmitspitnik.jpg"
    alt=""
    loading="lazy"
    srcset="
      ../source/photography/CETRDESmitspitnik-small.jpg 480w,
      ../source/photography/CETRDESmitspitnik-medium.jpg 768w,
      ../source/photography/CETRDESmitspitnik.jpg 1200w
    "
    sizes="(max-width: 600px) 480px,
           (max-width: 1024px) 768px,
           1200px"
  />

  <img 
    src="../source/photography/IMG_9681-small.jpg"
    data-full="../source/photography/IMG_9681.jpg"
    alt=""
    loading="lazy"
    srcset="
      ../source/photography/IMG_9681-small.jpg 480w,
      ../source/photography/IMG_9681-medium.jpg 768w,
      ../source/photography/IMG_9681.jpg 1200w
    "
    sizes="(max-width: 600px) 480px,
           (max-width: 1024px) 768px,
           1200px"
  />
  <img 
    src="../source/photography/lauraaura-small.jpg"
    data-full="../source/photography/lauraaura.jpg"
    alt=""
    loading="lazy"
    srcset="
      ../source/photography/lauraaura-small.jpg 480w,
      ../source/photography/lauraaura-medium.jpg 768w,
      ../source/photography/lauraaura.jpg 1200w
    "
    sizes="(max-width: 600px) 480px,
           (max-width: 1024px) 768px,
           1200px"
  />
  <img 
    src="../source/photography/piecdesmitastoni.jpg"
    data-full="../source/photography/piecdesmitastoni.jpg"
    alt=""
    loading="lazy"
    srcset="
      ../source/photography/piecdesmitastoni-small.jpg 480w,
      ../source/photography/piecdesmitastoni-medium.jpg 768w,
      ../source/photography/piecdesmitastoni.jpg 1200w
    "
    sizes="(max-width: 600px) 480px,
           (max-width: 1024px) 768px,
           1200px"
  />

  <img 
    src="../source/photography/sesdesmit-1-small.jpg"
    data-full="../source/photography/sesdesmit-1.jpg"
    alt=""
    loading="lazy"
    srcset="
      ../source/photography/sesdesmit-1-small.jpg 480w,
      ../source/photography/sesdesmit-1-medium.jpg 768w,
      ../source/photography/sesdesmit-1.jpg 1200w
    "
    sizes="(max-width: 600px) 480px,
           (max-width: 1024px) 768px,
           1200px"
  />

  <img 
    src="../source/photography/SESI-small.jpg"
    data-full="../source/photography/SESI.jpg"
    alt=""
    loading="lazy"
    srcset="
      ../source/photography/SESI-small.jpg 480w,
      ../source/photography/SESI-medium.jpg 768w,
      ../source/photography/SESI.jpg 1200w
    "
    sizes="(max-width: 600px) 480px,
           (max-width: 1024px) 768px,
           1200px"
  />
</div>

</section>

<!-- VIDEO -->
<section id="video" class="media-section campaign-section">
  <h2>Video</h2>
  <!-- <p class="section-intro">
    Short-form video and motion work exploring rhythm, light, and emliotional pacing.
  </p> -->

  <div class="video-stack">

    <div class="video-item video-minimal">
      <div class="video-overlay" aria-label="Activate video"></div>

      <iframe
        src="https://player.vimeo.com/video/1150521147?controls=1&title=0&byline=0&portrait=0&playsinline=0"
        allow="fullscreen; picture-in-picture"
        allowfullscreen>
      </iframe>

      <div class="video-meta">
        <h3>11?</h3>
        <span>2023</span>
      </div>
    </div>

    <div class="video-item video-minimal">
      <div class="video-overlay" aria-label="Activate video"></div>

      <iframe
        src="https://player.vimeo.com/video/1150751119?controls=1&title=0&byline=0&portrait=0&playsinline=0"
        allow="fullscreen; picture-in-picture"
        allowfullscreen>
      </iframe>

      <div class="video-meta">
        <h3>Dialoga veidojums</h3>
        <span>2024</span>
      </div>
    </div>

  </div>
</section>


<div class="lightbox" aria-hidden="true" role="dialog">
  <button class="lightbox-nav prev" aria-label="Previous image">‹</button>

  <img src="" alt="" />

  <button class="lightbox-nav next" aria-label="Next image">›</button>
</div>

<footer class="site-footer">
  <div class="footer-inner">
    <p class="footer-note">
      Selected work, 2022–2025
    </p>
  </div>
</footer>

<script>
document.addEventListener('DOMContentLoaded', () => {

  const body = document.body;
  const hero = document.querySelector('.hero');
  const sections = document.querySelectorAll('.campaign-section');
  const navLinks = document.querySelectorAll('.campaign-link');
  const scrollTopBtn = document.querySelector('.scroll-top');

  const isMobile = window.matchMedia('(max-width: 900px)').matches;
if (isMobile) {
  requestAnimationFrame(() => {
    document.body.classList.add('page-ready');
  });
}
/* ===============================
   MOBILE VIDEO TAP-TO-ACTIVATE
=============================== */

if (isMobile) {
  requestAnimationFrame(() => {
    document.body.classList.add('mobile-ready');
  });
}
if (isMobile) {
  document.querySelectorAll('.video-item').forEach(item => {
    const overlay = item.querySelector('.video-overlay');

    overlay.addEventListener('click', () => {
      item.classList.add('is-active');
      overlay.style.display = 'none';
    }, { passive: true });
  });
}

  /* ===============================
     SCROLL / HEADER STATE
  =============================== */
  let lastScrollY = window.scrollY;
  let ticking = false;

  function handleScroll() {
    const y = window.scrollY;
    const delta = y - lastScrollY;

    body.classList.toggle('has-scrolled', y > 80);
    body.classList.toggle('at-top', y < 80);

    if (delta > 12 && y > 180) {
      body.classList.add('nav-hidden');
    } else if (delta < -8) {
      body.classList.remove('nav-hidden');
    }

    scrollTopBtn?.classList.toggle('visible', y > 400);

    updateActiveSection();

    lastScrollY = y;
    ticking = false;
  }

  window.addEventListener('scroll', () => {
    if (!ticking) {
      requestAnimationFrame(handleScroll);
      ticking = true;
    }
  }, { passive: true });
handleScroll();
  /* ===============================
     ACTIVE SECTION LOGIC
  =============================== */
  function updateActiveSection() {


if (isMobile) {
  sections.forEach(s => {
    s.classList.add('is-visible');
    s.classList.remove('is-active');
  });

  navLinks.forEach(link => {
    link.classList.remove('active');
    link.removeAttribute('aria-current');
  });

  return;
}


    const heroThreshold = hero ? hero.offsetHeight * 0.6 : 200;

    if (window.scrollY < heroThreshold) {
      sections.forEach(s => {
        s.classList.remove('is-active', 'is-visible');
      });

      navLinks.forEach(link => {
        link.classList.remove('active');
        link.removeAttribute('aria-current');
      });

      return;
    }

    sections.forEach(s => s.classList.add('is-visible'));

    let current = null;
    const target = window.innerHeight * 0.45;

    sections.forEach(section => {
      const r = section.getBoundingClientRect();
      if (r.top <= target && r.bottom >= target) {
        current = section;
      }
    });

    if (!current) return;

    sections.forEach(s => s.classList.remove('is-active'));
    current.classList.add('is-active');

    navLinks.forEach(link => {
      const active = link.getAttribute('href') === `#${current.id}`;
      link.classList.toggle('active', active);
      active
        ? link.setAttribute('aria-current', 'true')
        : link.removeAttribute('aria-current');
    });
  }

  updateActiveSection();
/* ===============================
   PHOTO WALL
=============================== */
const photos = document.querySelectorAll('.photo-wall img');

if (isMobile) {
  photos.forEach(img => {
    img.style.opacity = '1';
  });
} else {
  photos.forEach((img, i) => {
    img.style.setProperty('--x', i % 2 === 0 ? '-28px' : '28px');
  });

  function updatePhotos() {
    const vh = window.innerHeight;

    photos.forEach(img => {
      const rect = img.getBoundingClientRect();
      const start = vh * 0.9;
      const end = vh * 0.25;

      let p = (start - rect.top) / (start - end);
      p = Math.min(Math.max(p, 0), 1);
      img.style.setProperty('--p', p);
    });
  }

  window.addEventListener('scroll', updatePhotos, { passive: true });
  window.addEventListener('resize', updatePhotos);
  updatePhotos();
}

let lightboxScrollY = 0;

function lockScrollForLightbox() {
  lightboxScrollY = window.scrollY;

  document.body.style.position = 'fixed';
  document.body.style.top = `-${lightboxScrollY}px`;
  document.body.style.left = '0';
  document.body.style.right = '0';
}

function unlockScrollForLightbox() {
  document.body.style.position = '';
  document.body.style.top = '';
  document.body.style.left = '';
  document.body.style.right = '';

  window.scrollTo(0, lightboxScrollY);
}


  /* ===============================
     LIGHTBOX 
  =============================== */
  const images = Array.from(document.querySelectorAll('.photo-wall img'));
  const lightbox = document.querySelector('.lightbox');
  const lightboxImg = lightbox.querySelector('img');
  const prevBtn = lightbox.querySelector('.prev');
  const nextBtn = lightbox.querySelector('.next');

  let currentIndex = 0;

  function setImage(index) {
    currentIndex = (index + images.length) % images.length;
    const img = images[currentIndex];
    const src = img.dataset.full || img.src;

    if (!src) {
      setImage(currentIndex + 1);
      return;
    }

    lightboxImg.src = src;
  }

  lightboxImg.onerror = () => {
    setImage(currentIndex + 1);
  };

function openLightbox(index) {
  setImage(index);
  lightbox.classList.add('open');
  lightbox.setAttribute('aria-hidden', 'false');

  document.body.classList.add('lightbox-open');
  lockScrollForLightbox();
}

function closeLightbox() {
  lightbox.classList.remove('open');
  lightbox.setAttribute('aria-hidden', 'true');

  document.body.classList.remove('lightbox-open');
  unlockScrollForLightbox();
}



  images.forEach((img, i) => {
    img.addEventListener('click', () => openLightbox(i));
  });

  nextBtn.addEventListener('click', e => {
    e.stopPropagation();
    setImage(currentIndex + 1);
  });

  prevBtn.addEventListener('click', e => {
    e.stopPropagation();
    setImage(currentIndex - 1);
  });
lightbox.addEventListener('click', e => {
  e.preventDefault();
  e.stopPropagation();
  closeLightbox();
});


  document.addEventListener('keydown', e => {
    if (!lightbox.classList.contains('open')) return;
    if (e.key === 'Escape') closeLightbox();
    if (e.key === 'ArrowRight') setImage(currentIndex + 1);
    if (e.key === 'ArrowLeft') setImage(currentIndex - 1);
  });
/* ===============================
   LIGHTBOX — MOBILE SWIPE
=============================== */

let touchStartX = 0;
let touchEndX = 0;
const SWIPE_THRESHOLD = 50; 

lightbox.addEventListener('touchstart', e => {
  if (!lightbox.classList.contains('open')) return;
  touchStartX = e.changedTouches[0].screenX;
}, { passive: true });

lightbox.addEventListener('touchend', e => {
  if (!lightbox.classList.contains('open')) return;
  touchEndX = e.changedTouches[0].screenX;
  handleSwipe();
}, { passive: true });

function handleSwipe() {
  const deltaX = touchEndX - touchStartX;

  if (Math.abs(deltaX) < SWIPE_THRESHOLD) return;

  if (deltaX < 0) {
    setImage(currentIndex + 1);
  } else {
    setImage(currentIndex - 1);
  }
}

  /* ===============================
     NAV TOGGLE
  =============================== */
/* ===============================
   NAV OPEN / CLOSE (SHARED LOGIC)
=============================== */

const navToggle = document.querySelector('.nav-toggle');
const menu = document.querySelector('.portfolio-links');
const pageDim = document.querySelector('.page-dim');
const portfolioNav = document.querySelector('.portfolio-nav');
const navLinksAll = document.querySelectorAll('.portfolio-links a');

let scrollPosition = 0;

function openNav() {
  scrollPosition = window.scrollY;

  body.style.position = 'fixed';
  body.style.top = `-${scrollPosition}px`;
  body.style.width = '100%';

  body.classList.add('nav-open');
  portfolioNav.classList.add('open');
  navToggle.setAttribute('aria-expanded', 'true');
}

function closeNav(skipScrollRestore = false) {
  body.style.position = '';
  body.style.top = '';
  body.style.width = '';

if (!skipScrollRestore && !isMobile) {
  window.scrollTo(0, scrollPosition);
}

  body.classList.remove('nav-open');
  portfolioNav.classList.remove('open');
  navToggle.setAttribute('aria-expanded', 'false');
}

function toggleNav() {
  body.classList.contains('nav-open') ? closeNav() : openNav();
}

/* ===============================
   NAV EVENTS
=============================== */

navToggle?.addEventListener('click', e => {
  e.stopPropagation();
  toggleNav();
});
menu?.addEventListener('click', e => {
  if (e.target === menu) {
    closeNav();
  }
});

pageDim?.addEventListener('click', () => closeNav());

document.addEventListener('keydown', e => {
  if (e.key === 'Escape' && body.classList.contains('nav-open')) {
    closeNav();
  }
});

/* ===============================
   NAV LINK BEHAVIOR
=============================== */

navLinksAll.forEach(link => {
  link.addEventListener('click', e => {
    const href = link.getAttribute('href');
    if (!href) return;

    // Same-page anchors
    if (href.startsWith('#')) {
      const target = document.querySelector(href);
      if (!target) return;

      e.preventDefault();
      closeNav();

      requestAnimationFrame(() => {
        target.scrollIntoView({ behavior: 'smooth', block: 'start' });
      });
      return;
    }

    e.preventDefault();
    closeNav(true);

    setTimeout(() => {
      window.location.href = href;
    }, 0);
  });
});


});
</script>


</body>
</html>


